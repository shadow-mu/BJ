# c语言

### 1.初识c语言

##### 第一个程序

```c
#include <stdio.h>
int main()
{
	printf("Hello World!\n");
	return 0;
}
```

#####  程序框架

```c
#include <stdio.h>
int main()
{
	return 0;
}
```

1.所有的程序都需要这一段
2.直到学函数之前，我们的代码都只是在这个框架中间

##### 输出

```c
printf("Hello World!\n");
```

1."里面的内容叫做“字符串”，printf:会把其中的内容原封不动地输出
2.\n表示需要在输出的结果后面换一行

##### 程序中的错误

1. 编译的时候发现的错误所在的地方会以红色的底表示出来
2. 具体的错误原因列在下方的窗口里（是英文的)
3. C的编译器给出的错误提示往往不那么好“猜”

##### 做计算

```c
printf("%d\n",23+43);
```

%d说明后面有一个整数要输出在这个位置上

```c
printf("23+43=%d\n",23+43);
```

##### 四则运算

![image-20220531162928912](img/image-20220531162928912.png)

%表示取两个数相除以后的余数

### 2.变量

##### 变量了解

```c
int price = 0;
printf("请输入金额（元）：")；
scanf("%d",&price);
int change = 100 - price;
printf("找您%d元。\n",change);
```

1.int price 0;
2.这一行，定义了一个变量。变量的名字是price,类型是int,初始值是0。
3.变量是一个保存数据的地方，当我们需要在程序里保存数据时，比如上面的	例子中要记录用户输入的价格，就需要一个变量来保存它。用一个变量保存	了数据，它才能参加到后面的计算中，比如计算找零。

##### 定义变量

1.变量定义的一般形式就是：
    <类型名称><变量名称>；
●int price;
●int amount;
●int price,amount;

##### 变量的名字

1.变量需要一个名字，变量的名字是一种“标识符”，意思是它是用来识别这个和那个的不同的名字
2.标识符有标识符的构造规则。基本的原则是：标识符只能由字母、数字和下划线组成，数字不可以出现在第一个位置上，C语言的关键字（有的地方叫它们保留字）不可以用做标识符

##### c语言的保留字

```
auto,break,case,char,const,
continue,default,do,double,
else,enum,extern,float,for,
goto,if,int,long,register,return
short,signed,sizeof,static,
struct,switch,typedef,union,
unsigned,void,volatile,while,
inline,restrict
```

##### 赋值

1.int price  = 0;
2.这一行，定义了一个变量。变量的名字是price,类型是int,初始值是0。
3.price=0是一个式子，这里的“=”是一个赋值运算符，表示将“=”右边的值赋给左边的变量。

注意和数学不同，a=b在数学中表示关系，即a和b的值一样；而在程序设计中，a=b表示要求计算机做一个动作：将b的值赋给a。关系是静态的，而动作是动态的。在数学中，a=b和b=a是等价的，而在程序设计中，两者的意思完全相反

##### 初始化

1.当赋值发生在定义变量的时候，就像程序1中的第7行那样，就是变量的初始化。虽然C语言并没有强制要求所有的变量都在定义的地方做初始化，但是所有的变量在第一次被使用（出现在赋值运算符的右边）之前被应该赋值一次
2.如果没有初始化？

```c
#include <stdio.h>
int main()
{
int i;
int j;
j=i+10;
printf("%d\n",j)
return 0;
}
```

结果![image-20220531172717570](img/image-20220531172717570.png)

如果没有初始化在内存中找到对应的是什么就是什么，相当于一个房间没收拾住进去了垃圾就都是你的了

##### 变量初始化

<类型名称><变量名称>=<初始值>；
●int price=0;
●int amount =100;
组合变量定义的时候，也可以在这个定义中单独给单个变量赋初值，如：
int price =0,amount =100;

##### 表达式

“=”是赋值运算符，有运算符的式子就叫做表达式。
price=0；
change=100-price；

一个表达式是一系列运算符和算子的组合，用来计算一个值

##### 运算符

运算符(operator)是指进行运算的动作，比如加法运算符“+”，减法运算符”。
算子(operand)是指参与运算的值，这个值可能是常数，也可能是变量，还可能
是一个方法的返回值![image-20220605110410744](img/image-20220605110410744.png)

运算符优先级![image-20220605111454146](img/image-20220605111454146.png)

赋值运算符

1. 赋值也是运算，也有结果
2. a=6的结果是a被赋予的值，也就是6
3. a=b=6——>a=(b=6)

嵌入式赋值

```c
int a=6;
int b;
int c = 1+(b=a);
```

1. 不利于阅读
2. 容易产生错误

不建议程序当中这样写代码

结合关系

1. 一般自左向右

2. 单目+-和赋值=自右向左

   ```c
   result = a = b =3 + c;
   result =2;
   result =(result = result * 2)* 6 *(result = 3 + result);
   ```

计算复利

在银行存定期的时候，可以选择到期后自动转存，并将到期的利息计入本金合并转存。如果1年期的定期利率是3.3%，那么连续自动转存3年后，最初存入的x元定期会得到多少本息余额？
本息合计=(x(1+3.3%))3



##### 变量类型

1.int price 0;
2.这一行，定义了一个变量。变量的名字是price,类型是int,初始值是0。
3.C是一种有类型的语言，所有的变量在使用之前必须定义或声明，所有的变量必须具有确定的数据类型。数据类型表示在变量中可以存放什么样的数据，变量中只能存放指定类型的数据，程序运行过程中也不能改变变量的类型。

int change 100-price;
定义了第二个变量change 并且做了计算这是c99版本写法

注意 ANSI C 只能在代码开头的地方定义变量

##### 读整数

```C
scanf("%d",&price);
```

1.要求scanf这个函数读入下一个整数，读到的结果赋值给变量price
2.小心price前面的&

##### 常量

```c
int change =100-price;
```

固定不变的数，是常数。直接写在程序里，我们称作直接量(literal)。
更好的方式，是定义一个常量：

```c
const int AMOUNT =100:
```

const,是一个修饰符，加在int的前面，用来给这个变量加上一个const(不变的)的属性。这个const的属性表示这个变量的值一旦初始化，就不能再修改了。

```c
int change = AMOUNT price;
```

如果你试图对常量做修改，把它放在赋值运算符的左边，就会被编译器发现，指出为一个错误

```c
#include <stdio.h>
int main(){
	int a;
	int b;
	printf("请输入两个整数");
	scanf("%d %d",&a,&b);
	printf("%d+%d=%d\n",a,b,a+b) ;
	return 0;
} 
```

##### 浮点数

计算身高

```c
#include <stdio.h>
int main(){
	printf("请输入身高的英尺和英寸，""如输入\"5 7\"表示5英尺7英寸:");
	int foot;
	int inch;
	scanf("%d %d",&foot,&inch);
	printf("身高是%f米。\n",((foot+inch/12)*0.3048));
	return 0;
}
```

1.因为两个整数的运算的结果只能是整数
	10/3*3=>?
2.10和10.0在C中是完全不同的数
3.10.0是浮点数

带小数点的数值。浮点这个词的本意就是指小数点是浮动的，是计算机内部表达非整数（包含分数和无理数）的一种方式。另一种方式叫做定点数，不过在C语言中你不会遇到定点数。人们借用浮点数这个词来表达所有的带小数点的数。

![image-20220601115143188](img/image-20220601115143188.png)

##### double

1.inch是定义为int类型的变量，如果把int换成double,我们就把它改为double类型的浮点数变量了。
2.double的意思是“双”，它本来是“双精度浮点数”的第一个单词，人们用来表示浮点数类型。除了double,还有float(意思就是浮点！)表示单精度浮点数。

●整数
	●int
	●printf("%d",.…）
	●scanf("%d",.…)
●带小数点的数
	●double
	●printf("%f",.…)
	●scanf("%lf",..）

##### 交换变量

```c
#include <stdio.h>
int main(){
	int a =5;
	int b=6;
	int t;
	t=a;
	a=b;
	b=t;
	printf("a=%d,b=%d\n",a,b);
	return 0;
} 
```

##### 程序调试

1.点击代码行数位置设置断点

![image-20220605160838434](img/image-20220605160838434.png)

点击调试

![image-20220605162056607](img/image-20220605162056607.png)

点击下一步

![image-20220605162125213](img/image-20220605162125213.png)

一直点击下一步

##### 复合赋值

1. ·5个算术运算符，+-*/%，可以和赋值运算符“=“ ”结合起来，形成复合赋值运算符:“+=”、“-=”、“*=”、“=”天和“%=”

2. ```c
   1. total +=5;
   2. total = total +5;
   ```

3. 注意两个运算符中间不要有空格

例

```c
1.total +=(sum+100)/2;
	total = total (sum+100)/2;
2.total*=sum+12;
	total=total*(sum+12);
3.total/=12+6;
	total =total / (12+6);
```

##### 递增递减运算符

“++”和“”是两个很特殊的运算符，它们是单目运算符，这个算子还必须是变量。
这两个运算符分别叫做递增和递减运算符，他们的作用就是给这个变量+I或者-1。

```c
count++;
count +=1；
count = count +1；
```

前缀后缀

1. ++和--可以放在变量的前面，叫做前缀形式，也可以放在变量的后面，叫做后缀形式。
2. a++的值是a加1以前的值，而++a的值是加了1以后的值，无论哪个，a自己的值都加了1了。

```c
#include <stdio.h>
int main()
{
int a;
a=10;
printf("a++=%d\n",a++);
printf("a=%d小n",a);
printf("++a=%d\n",++a)
printf("a=%d\n",a);
return 0;
}
```

![image-20220605164512369](img/image-20220605164512369.png)

![image-20220605164537107](img/image-20220605164537107.png)

尽量不要组合进表达式

1. 这两个运算符有其历史来源

2. 可以单独使用，但是不要组合进表达式

   ```
   1. ++i++__>?
   2. i++++——>?
   ```

3. a=b+=c++-d+--e/-f 

### 3.判断

##### if条件判断

写法

```
if(条件成立){
	...
}
```

一个基本的if语句由一个关键字if开头，跟上在括号里的一个表示条件的逻辑表达
式，然后是一对大括号“0”之间的若干条语句。如果表示条件的逻辑表达式的结
果不是零，那么就执行后面跟着的这对大括号中的语句，否则就跳过这些语句
不执行，而继续下面的其他语句。

注意

语句这一行结束的时候并没有表示语句结束的；”，而后面的赋值语句写在f的下一行，并且缩进了，在这一行结束的时候有一个表示语句结束的“，”。这表明这条赋值语句是if语句的一部分，if语句拥有和控制这条赋值语句，决定它是否要被执行。

```c
#include <stdio.h>
int main(){
	int hour1,minute1;
	int hour2,minute2;
	scanf ("%d %d",&hour1,&minute1);
	scanf("%d %d",&hour2,&minute2);
	int ih = hour2-hour1;
	int im = minute2 - minute1;
	if (im <0 ){
		im = 60 +im;
		ih--;
	}
	printf("时间差是%d小时%d分。\n",ih,im);
}
```

条件

计算两个值之间的关系，所以叫做关系运算

![image-20220612135526001](img/image-20220612135526001.png)

1. 当两个值的关系符合关系运算符的预期时，关系运算的结果为整数1，否则为整数0

2. ```
   1. printf("%d\n",5==3);
   2. printf("%d\n",5>3);
   3. printf("%d\n",5<=3);
   ```

优先级

1. 所有的关系运算符的优先级比算术运算的低，但是比赋值运算的高

   ```c
   1. 7>=3+4
   2. int r=a>0;
   ```

2. 判断是否相等的==和！=的优先级比其他的低，而连续的关系运算是从左到右进行的

   ```
   5>3==6>4
   6>5>4
   a==b==6
   a==b>0
   ```

##### 练习

找零计算器

1.找零计算器需要用户做两个操作：输入购买的金额，输入支付的票面，而找零计算器则根据用户的输入做出相应的动作：计算并打印找零，或告知用户余额不足以购买。
2.从计算机程序的角度看，这就是意味着程序需要读用户的两个输入，然后进行一些计算和判断，最后输出结果

```c
#include <stdio.h>
int main(){
	int price=0;
	int bill=0;
	printf("请输入金额：");
	scanf("%d",&price);
	printf("请输入票面：");
	scanf("%d",&bill);
	if(bill>=price){
		printf("应该找您：%d\n",bill-price);
	}else{
		printf("应该补齐：%d\n",price-bill);
	}
} 
```

输入年龄

```c
const int MINOR = 35;
int age = 0;
printf("请输入你的年龄：");
scanf("%d",&age);
printf("你的年龄是%d岁。\n",age);
if (age < MINOR ){
    printf("年轻是美好的，");
}
printf("年龄决定了你的精神世界，好好珍惜吧。\n");
```

判断3个数那个最大

```c
int a,b,C;
scanf("%d %d %d",&a,&b,&c);
int max = 0;
if ( a>b ){
    if( a>c ){
        max = a;
    }else{
        max = c;
    }
}else{
     if( b>c ){
        max = b;
    }else{
        max = c;
    }
}
}
printf("The max is %d\n",max);
```

##### 嵌套

当if的条件满足或者不满足的时候要执行的语句也可以是一条if或if-else语句，这就是嵌套的if语句

else的匹配

else总是和最近的那个if匹配

建议

1. 在if或else后面总是用{}
2. 即使只有一条语句的时候

##### 分段函数

f(x)=-l;x<0
		0;x=0
		2X;X>0

```c
if (x <0){
   f=-1 
}else if (x ==0){
   f=0; 
}else{
   f=2*X;
}
```

##### 常见错误

1. 忘了大括号 永远在if和else后面加上大括号，即使当时后面只有一条语
2. if后面的分号 
3. 错误使用==和= if只要求0里的值是零或非零

##### 代码风格

1. 在if和else之后必须加上大括号形成语句块；
2. 大括号内的语句缩进一个tab的位置；

##### switch-case

```c
switch(控制表达式){
case 常量：
	语句
case 常量：
	语句	
default:
	语句
}
```

1. 控制表达式只能是整数型的结果
2. 常量可以是常数，也可以是常数计算的表达式

break

switch语句可以看作是一种基于计算的跳转，计算控制表达式的值后，程序会
跳转到相匹配的case（分支标号)处。分支标号只是说明switch内部位置的路
标，在执行完分支中的最后一条语句后，如果后面没有break,就会顺序执行到下
面的case里去，直到遇到一个break,或者switch结束为止。

### 4.循环

##### while

```c
while(<循环条件>){
    循环体
};
```

1. 如果我们把while翻译作“当”，那么一个while循环的意思就是：当条件满足时，不断地重复循环体内的语句。
2. 循环执行之前判断是否继续循环，所以有可能循环一次也没有被执行；
3. 条件成立是循环继续的条件。

```c
int x;
int n =0;
scanf("%d",&x);
n++;
×/=10;
while (x > 0){
    n++;
	x/=10;
}
printf("%d\n",n)
```

##### do-while

在进入循环的时候不做检查，而是在执行完一轮循环体的代码之后，再来检查循环的条件是否满足，如果满足则继续下一轮循环，不满足则结束循环

```c
do
{
<循环体语句>
}while(<循环条件>);
```

```c
int x;
scanf("%d",&x);
int n =0;
do
{
	x/=10;
	n++;
}while (x >0);
printf("‰d",n);
```

区别

do-while循环和while循环很像，区别是在循环体执行结束的时候才来判断条件。也就是说，无论如何，循环都会执行至少1遍，然后再来判断条件。与while循环相同的是，条件满足时执行循环，条件不满足时结束循环。
